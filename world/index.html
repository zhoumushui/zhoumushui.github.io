<!DOCTYPE html>
<html lang="en">
<!--[if IE 9 ]>
<html class="ie9"><![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <title>足迹</title>

    <link href="../vendors/bower_components/animate.css/animate.min.css" rel="stylesheet"><!-- Animate CSS -->

    <!-- Material Design Icons -->
    <link href="../vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css"
          rel="stylesheet">

    <!-- Malihu Scrollbar -->
    <link href="../vendors/bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.min.css"
          rel="stylesheet">

    <!-- Bootgrid -->
    <link href="../vendors/bower_components/jquery.bootgrid/dist/jquery.bootgrid.min.css" rel="stylesheet">

    <!-- Site CSS -->
    <link href="../resource/css/app-1.min.css" rel="stylesheet">
    <link href="../resource/css/az.css" rel="stylesheet">

    <script src="../resource/js/google.prettify.js"></script><!-- Prettify -->

    <!-- Page loader -->
    <!--
    <script src="js/page-loader.min.js"></script>
    -->

    <link type="image/x-icon" href="../resource/img/favicon.ico" rel=icon/>
    <link type="image/x-icon" href="../resource/img/favicon.ico" rel="shortcut icon"/>

    <link href="../resource/css/essay.material.floating.button.css" rel="stylesheet"><!-- Material Floating Button -->

    <!-- AMap -->
    <style type="text/css">
        #container_amap { /* 地图属性 */
            height: 100%; /*580px;*/
            min-height: 600px;
            width: 100%;
            margin: 0px;
        }

        .button-fullscreen { /* 全屏按钮*/
            position: absolute;
            bottom: 90%; /* 20px; */
            right: 50%; /* 20px; */
            font-size: 12px;
            padding: 10px;
        }

        .button-fullscreen .button {
            height: 28px;
            line-height: 28px;
            background-color: #0D9BF2;
            color: #FFF;
            border: 0;
            outline: none;
            padding-left: 5px;
            padding-right: 5px;
            border-radius: 3px;
            margin-bottom: 4px;
            cursor: pointer;
        }

        .dot-legend {
            position: absolute;
            bottom: 45%;
            right: 0.5%;
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
            text-shadow: 1px 1px 1px #000;
            font-weight: bolder;
            z-index: 1;
        }
    </style>

    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <script type="text/javascript"
            src="http://webapi.amap.com/maps?v=1.4.14&key=00adddac7e40038a02471b299a505dbd"></script>
    <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>

    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e3a97a0eee3cb03b5caf792f58032743";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>

<body>
<!-- Page Loader -->
<!--
<div id="page-loader">
    <div class="preloader preloader--xl preloader--light">
        <svg viewBox="25 25 50 50">
            <circle cx="50" cy="50" r="20"/>
        </svg>
    </div>
</div>
-->

<!-- Header -->
<header id="header"></header>

<section id="main">

    <aside id="navigation">
        <div class="navigation__header">
            <i class="zmdi zmdi-long-arrow-left" data-mae-action="block-close"></i>
        </div>
        <div class="navigation__toggles">
            <a href="" data-toggle="tab">足</a>
            <a href="" data-toggle="tab">迹</a>
        </div>
        <div id="page-pattern-navigation" class="navigation__menu c-overflow"></div>
    </aside>

    <section id="content">

        <div class="card">
            <!--
            AZ Share: Material Floating Button;
            Anim:mfb-zoomin,mfb-slidein,mfb-slidein-spring,mfb-fountain;
            Position:mfb-component--br,bl,tr,tl;
            Action:hover,click
            -->
            <script>
                var essayTitle = '足迹';
                var essaySummary = '足迹';
                var essayUrl = 'http://www.zhoumushui.com/world/';
                //  var essayPic = 'http://www.zhoumushui.com/img/logo/1.jpg'; // Default
                var essayPic = 'http://www.zhoumushui.com/img/logo/1.jpg'; // This
            </script>
            <ul id="menu" class="mfb-component--br mfb-slidein-spring" data-mfb-toggle="hover"></ul>

            <div class="card__body" style="font-size: 15px" id="container_amap" tabindex="0">

                <div class="dot-legend">
                    <img src="img/dot_grey.png"/><span style="color: #9C9C9C"> NOT</span>
                    <br><img src="img/dot_blue.png"/><span style="color: #2196F3"> 1D+</span>
                    <br><img src="img/dot_green.png"/><span style="color: #4CAF50"> 7D+</span>
                    <br><img src="img/dot_orange.png"/><span style="color: #FF9800"> 1M+</span>
                    <br><img src="img/dot_red.png"/><span style="color: #f44336"> 6M+</span>
                    <br><img src="img/dot_purple.png"/><span style="color: #9C27B0"> 1Y+</span>
                </div>
            </div>
            <div class="button-fullscreen">
                <span class="button" style="display:block;cursor:pointer;text-align:center;">
                    <i class="zmdi zmdi-fullscreen-alt" id="fullscreen"> 全屏</i>
                </span>
                <!--
                <input type="button" class="button" value="开始" id="start"/>
                <input type="button" class="button" value="暂停" id="pause"/>
                <input type="button" class="button" value="继续" id="resume"/>
                <input type="button" class="button" value="停止" id="stop"/>
                -->
            </div>

            <script type="text/javascript" src="js/array.footprint.js"></script>
            <script type="text/javascript" src="js/array.path.js"></script>
            <script type="text/javascript" src="js/array.travel_around_china.js"></script>
            <script type="text/javascript">
                let map;
                let dotGrey, dotBlue, dotGreen, dotOrange, dotRed, dotPurple;
                let colorYellow;
                let colorRed;
                let colorBlue;
                let colorTeal;

                function initialMap() {
                    map = new AMap.Map('container_amap', { // AZ:Initial Map
                        resizeEnable: true,
                        // pitch: 75, // 初始俯仰角度[0,83]
                        // viewMode: '3D', // 开启3D地图
                        /**
                         * normal-标准
                         * whitesmoke-远山黛
                         * macaron-马卡龙
                         * graffiti-涂鸦
                         * darkblue-极夜蓝
                         * blue-靛青蓝
                         * fresh-草色青
                         * dark-幻影黑
                         * light-月光银
                         * grey-雅士灰
                         */
                        mapStyle: 'amap://styles/normal', // 样式URL{setMapStyle}
                        zoom: 4, // {setZoom}
                        center: [105.0, 36.5] // {setCenter} 105.0, 37.5
                    });
                    map.plugin([
                        "AMap.ToolBar",
                        'AMap.Scale',
                        //'AMap.OverView',
                        'AMap.MapType'
                    ], function () {
                        map.addControl(new AMap.ToolBar()); // 工具条
                        map.addControl(new AMap.Scale()); // 比例尺
                        // map.addControl(new AMap.OverView({isOpen:true})); // 鹰眼-右下角缩略图
                        map.addControl(new AMap.MapType({defaultType: 0})); // 实现默认图层与卫星图、实施交通图层之间切
                    });
                    // bg-地图背景 point-兴趣点 road-道路 building-建筑物
                    // map.setFeatures(['bg', 'point', 'road', 'building'])//多个种类要素显示
                }

                function initialIcon() {
                    dotGrey = new AMap.Icon({image: 'img/dot_grey.png', size: new AMap.Size(15, 15)});
                    dotBlue = new AMap.Icon({image: 'img/dot_blue.png', size: new AMap.Size(15, 15)});
                    dotGreen = new AMap.Icon({image: 'img/dot_green.png', size: new AMap.Size(15, 15)});
                    dotOrange = new AMap.Icon({image: 'img/dot_orange.png', size: new AMap.Size(15, 15)});
                    dotRed = new AMap.Icon({image: 'img/dot_red.png', size: new AMap.Size(15, 15)});
                    dotPurple = new AMap.Icon({image: 'img/dot_purple.png', size: new AMap.Size(15, 15)});
                }

                function initialColor() {
                    colorYellow = "#FFEB3B"; // 非机动车、步行
                    colorRed = "#f44336";
                    colorTeal = "#009688";
                    colorBlue = "#00BCD4"; // 机动车、火车
                }

                function drawPoint() {
                    let arrayMarkerPoint = []; // array.footprint.js
                    for (let i = 0; i < arrayFootprint.length; i += 1) {
                        let markerPoint;
                        let iconPoint;
                        switch (arrayFootprint[i].type) {
                            case 1:
                                iconPoint = dotBlue;
                                break;
                            case 2:
                                iconPoint = dotGreen;
                                break;
                            case 3:
                                iconPoint = dotOrange;
                                break;
                            case 4:
                                iconPoint = dotRed;
                                break;
                            case 5:
                                iconPoint = dotPurple;
                                break;
                            case 0:
                            default:
                                iconPoint = dotGrey;
                                break;
                        }
                        markerPoint = new AMap.Marker({
                            animation: "AMAP_ANIMATION_NONE",//点标记的动画效果：AMAP_ANIMATION_NONE-无动画效果(默认)；AMAP_ANIMATION_DROP-点标掉落效果；AMAP_ANIMATION_BOUNCE-点标弹跳效果
                            bubble: false, // 默认false，true的时候事件可以穿透到地图
                            clickable: false, // 点标记是否可点击
                            // content:"Content",// 点标记显示内容，可以是HTML要素字符串或者HTML DOM对象。content有效时，icon属性将被覆盖
                            // cursor:, // 指定鼠标悬停时的鼠标样式，自定义cursor，IE仅支持cur/ani/ico格式，Opera不支持自定义cursor
                            draggable: false, // 设置点标记是否可拖拽移动，默认为false
                            icon: iconPoint, // icon可缺省，缺省时为默认的蓝色水滴图标
                            map: map,
                            offset: new AMap.Pixel(-7, -7), // (-12,-12)
                            position: arrayFootprint[i].center.split(','),
                            //shadow:, // 点标记阴影，不设置该属性则点标记无阴影
                            visible: true, // 点标记是否可见，默认为true
                            title: arrayFootprint[i].name,  // 鼠标滑过点标记时的文字提示，不设置则鼠标滑过点标无文字提示
                            zIndex: 101 // 标记的叠加顺序。地图上存在多个点标记叠加时，通过该属性使级别较高的点标记在上层显示，默认100
                        });
//                            map.setCenter(markerPoint.getPosition());
                        arrayMarkerPoint.push(markerPoint);
                    }
                }

                /**
                 *
                 * @param destinationMap 目标地图
                 * @param arrayPathPoint 路径点
                 * @param lineWeight 线宽
                 * @param lineColor 线色
                 */
                function drawPath(destinationMap, arrayPathPoint, lineWeight, lineColor, strokeStyle) {
                    // 绘制轨迹
                    let polyline = new AMap.Polyline({
                        map: destinationMap,
                        path: arrayPathPoint,
                        strokeColor: lineColor,  // 线颜色
                        // strokeOpacity: 1,     // 线透明度
                        strokeWeight: lineWeight, // 线宽
                        showDir: false, // 显示方向箭头
                        strokeStyle: strokeStyle  // 线样式
                    });
                    let passedPolyline = new AMap.Polyline({
                        map: destinationMap,
                        // path: arrayPathPoint,
                        strokeColor: "#FF0000",  //线颜色
                        // strokeOpacity: 1,     //线透明度
                        strokeWeight: 3,      //线宽
                        // strokeStyle: "solid"  //线样式
                    });
//                    markerPath_Step55555.on('moving', function (e) {
//                        passedPolyline.setPath(e.passedPath);
//                    })
//                    destinationMap.setFitView();
//                    AMap.event.addDomListener(document.getElementById('start'), 'click', function () {
//                        markerPath_Step55555.moveAlong(arrayPathPoint, 500);
//                    }, false);
//                    AMap.event.addDomListener(document.getElementById('pause'), 'click', function () {
//                        markerPath_Step55555.pauseMove();
//                    }, false);
//                    AMap.event.addDomListener(document.getElementById('resume'), 'click', function () {
//                        markerPath_Step55555.resumeMove();
//                    }, false);
//                    AMap.event.addDomListener(document.getElementById('stop'), 'click', function () {
//                        markerPath_Step55555.stopMove();
//                    }, false);
                }

                // 计算区域面积
                function countArea(map, path) {
                    let area = Math.round(AMap.GeometryUtil.ringArea(path));
                    let text = new AMap.Text({
                        position: path[0],
                        text: (area / 10000000000).toFixed(0),
                        offset: new AMap.Pixel(-15, -14),
                        draggable: false, // 是否可拖拽移动
                        title: '万平方公里', // 鼠标滑过的文字提示
                        angle: 0, // 旋转角度
                        // shadow:Amap.Icon, // 点标记阴影
                        animation: 'AMAP_ANIMATION_NONE'// NONE, DROP, BOUNCE
                    });
                    map.add(text);
                }

                initialIcon();
                initialMap();
                initialColor();

                drawPath(map, arrayPath_HighSchool, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Zhoukou_Dongyang, 1, colorBlue, "solid");
                drawPath(map, arrayPath_k21_2013, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Guilin_LiuZhou, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Liuzhou_Jishou, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Guangzhou_Hengyang, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Guangzhou_Zhuhai, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Guangzhou_Shenzhen, 1, colorBlue, "solid");
                drawPath(map, arrayPath_ShenzhenNorth_GuangzhouSouth, 1, colorBlue, "solid");
                drawPath(map, arrayPath_Shekou_JiuZhou, 1, colorBlue, "solid");

                drawPath(map, arrayPathStep_HomeToWork1, 1, colorRed, "solid");
                drawPath(map, arrayPathStep_HomeToWork2, 1, colorRed, "solid");
                drawPath(map, arrayPathStep_HomeToWork3, 1, colorRed, "solid");
                drawPath(map, arrayPathStep_HomeToWork4, 1, colorRed, "solid");
                drawPath(map, arrayPath_HomeToWork4_2, 1, colorRed, "solid");
                drawPath(map, arrayPath_HomeToWork5, 1, colorRed, "solid");
                drawPath(map, arrayPathStep_20170909, 1, colorRed, "solid");
                drawPath(map, arrayRectangleLimit, 1, colorTeal, "dashed");
                drawPath(map, arrayTravelAroundChina, 2, colorRed, "dashed");
                countArea(map, arrayRectangleLimit);
                drawPoint();
            </script>
        </div>

    </section>

    <link rel="stylesheet" href="../resource/css/toolbox.reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="../resource/css/toolbox.style.css"> <!-- Resource style -->
    <footer id="footer" class="font-yahei"></footer>
</section>

<!-- Older IE Warning -->
<!--[if lt IE 9]>
<div class="ie-warning"></div>
<![endif]-->

<script src="../vendors/bower_components/jquery/dist/jquery.min.js"></script><!-- jQuery -->
<script type="text/javascript" src="../resource/js/zms.goup.js"></script><!-- Go Up -->
<script src="../vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script><!-- Bootstrap -->
<!-- Malihu ScrollBar -->
<script src="../vendors/bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>
<!-- Bootstrap Notify -->
<script src="../vendors/bower_components/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js"></script>
<!-- Bootgrid -->
<script src="../vendors/bower_components/jquery.bootgrid/dist/jquery.bootgrid.min.js"></script>

<!-- Placeholder for IE9 -->
<!--[if IE 9 ]>
<script src="../vendors/bower_components/jquery-placeholder/jquery.placeholder.min.js"></script>
<![endif]-->

<!-- Demo Only -->
<!--<script src="js/misc.js"></script>-->
<script src="../resource/js/data-table.js"></script>

<script src="../resource/js/app.min.js"></script><!-- Site Functions & Actions -->
<script async src="../resource/js/busuanzi.pure.mini.js"></script><!-- busuanzi PV&UV -->

<!-- Nest Follow Mouse Background -->
<!--<script type="text/javascript" color="255,255,255" opacity='1.0' zIndex="-1" count="50"
        src="../js/canvas-nest.min.js"></script>-->

<script src="../resource/js/essay.material.floating.button.js"></script>
<script type="text/javascript">
    var panel = document.getElementById('panel'),
        menu = document.getElementById('menu'),
        showcode = document.getElementById('showcode'),
        selectFx = document.getElementById('selections-fx'),
        selectPos = document.getElementById('selections-pos'),
        // demo defaults
        effect = 'mfb-zoomin',
        pos = 'mfb-component--br';

    showcode.addEventListener('click', _toggleCode);
    selectFx.addEventListener('change', switchEffect);
    selectPos.addEventListener('change', switchPos);

    function _toggleCode() {
        panel.classList.toggle('viewCode');
    }

    function switchEffect(e) {
        effect = this.options[this.selectedIndex].value;
        renderMenu();
    }

    function switchPos(e) {
        pos = this.options[this.selectedIndex].value;
        renderMenu();
    }

    function renderMenu() {
        menu.style.display = 'none';
        // ?:-)
        setTimeout(function () {
            menu.style.display = 'block';
            menu.className = pos + effect;
        }, 1);
    }
</script>

<script src="../resource/js/toolbox.main.js"></script><!-- Toolbox -->

<script>var directoryDepth = 1;</script>
<script src="../resource/js/zms.page.pattern.js"></script>
<script>

    function requestFullScreen(element) {
        var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
        if (requestMethod) {
            requestMethod.call(element);
        } else if (typeof window.ActiveXObject !== "undefined") {
            var wscript = new ActiveXObject("WScript.Shell");
            if (wscript !== null) {
                wscript.SendKeys("{F11}");
            }
        }
    }

    function exitFullscreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        }
    }

    function isFullscreen() {
        if (navigator.userAgent.indexOf("Firefox") != -1) {
            return document.mozFullScreen;
        } else if (navigator.userAgent.indexOf("Chrome") != -1) {
            return document.webkitIsFullScreen;
        }
        return document.fullscreen;
    }

    let btnFullscreen = document.getElementById("fullscreen");
    btnFullscreen.onclick = function () {
        let elem = document.getElementById("container_amap");
        requestFullScreen(elem);
    };
</script>

</body>
</html>