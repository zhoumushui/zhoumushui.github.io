<!DOCTYPE html>
<html lang="en">
<!--[if IE 9 ]>
<html class="ie9"><![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>愿望清单</title>

    <!-- Vendors -->

    <!-- Animate CSS -->
    <link href="../vendors/bower_components/animate.css/animate.min.css" rel="stylesheet">

    <!-- Material Design Icons -->
    <link href="../vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css"
          rel="stylesheet">

    <!-- Malihu Scrollbar -->
    <link href="../vendors/bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.min.css"
          rel="stylesheet">

    <!-- Bootgrid -->
    <link href="../vendors/bower_components/jquery.bootgrid/dist/jquery.bootgrid.min.css" rel="stylesheet">

    <!-- Site CSS -->
    <link href="../resource/css/app-1.min.css" rel="stylesheet">

    <link href="../resource/css/az.css" rel="stylesheet">

    <!-- Page loader -->
    <!--
    <script src="js/page-loader.min.js"></script>
    -->

    <link type="image/x-icon" href="../resource/img/favicon.ico" rel=icon/>
    <link type="image/x-icon" href="../resource/img/favicon.ico" rel="shortcut icon"/>

    <!-- Material Floating Button -->
    <link href="../resource/css/essay.material.floating.button.css" rel="stylesheet">

    <style>
        .digit-blue {
            text-align: right;
            font-family: "Courier New", Courier, monospace, "digit";
            color: #00a1d8;
            font-size: 22px
        }

        .digit-red {
            text-align: right;
            font-family: "Courier New", Courier, monospace, "digit";
            color: #f44336;
            font-size: 22px
        }

        .dateRange {
            font-family: "digit";
            color: #00a1d8;
            font-size: 20px
        }
    </style>

    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e3a97a0eee3cb03b5caf792f58032743";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>

<body>
<!-- Page Loader -->
<!--
<div id="page-loader">
    <div class="preloader preloader--xl preloader--light">
        <svg viewBox="25 25 50 50">
            <circle cx="50" cy="50" r="20"/>
        </svg>
    </div>
</div>
-->

<!-- Header -->
<header id="header"></header>

<section id="main">

    <aside id="navigation">
        <div class="navigation__header">
            <i class="zmdi zmdi-long-arrow-left" data-mae-action="block-close"></i>
        </div>
        <div class="navigation__toggles">
            <a href="" data-toggle="tab">梦</a>
            <a href="" data-toggle="tab">想</a>
        </div>
        <div id="page-pattern-navigation" class="navigation__menu c-overflow"></div>
    </aside>

    <section id="content">
        <script>
            var essayTitle = '我的梦想清单';
            var essaySummary = '如果没有梦想，和咸鱼有什么区别？';
            var essayUrl = 'http://www.zhoumushui.com/dream/';
            //  var essayPic = 'http://www.zhoumushui.com/img/logo/1.jpg'; // Default
            var essayPic = 'http://www.zhoumushui.com/img/logo/1.jpg'; // This
        </script>
        <!--
        AZ Share: Material Floating Button;
        Anim:mfb-zoomin,mfb-slidein,mfb-slidein-spring,mfb-fountain;
        Position:mfb-component--br,bl,tr,tl;
        Action:hover,click
        -->
        <ul id="menu" class="mfb-component--br mfb-slidein-spring" data-mfb-toggle="hover"></ul>

        <!--
        <div class="card__header" style="display: none">
            DONE <span id="doneTotal" style="color: #00a1d8"></span>&nbsp;
            2009 <span id="done2009" style="color: #00a1d8"></span>&nbsp;
            2010 <span id="done2010" style="color: #00a1d8"></span>&nbsp;
            2011 <span id="done2011" style="color: #00a1d8"></span>&nbsp;
            2012 <span id="done2012" style="color: #00a1d8"></span>&nbsp;
            2013 <span id="done2013" style="color: #00a1d8"></span>&nbsp;
            2014 <span id="done2014" style="color: #00a1d8"></span>&nbsp;
            2015 <span id="done2015" style="color: #00a1d8"></span>&nbsp;
            2016 <span id="done2016" style="color: #00a1d8"></span>&nbsp;
            2017 <span id="done2017" style="color: #00a1d8"></span>&nbsp;
            2018 <span id="done2018" style="color: #00a1d8"></span>
        </div>
        -->

        <div class="card">

            <div align="center">
                <br>
                <h3 id="time_elapse">TIME</h3>
            </div>
            <div class="card__body">

                <div id="dream-year-line" class="flot-chart"></div>
                <div class="flot-chart-legend flot-chart-legend--line"></div>
            </div>

            <div class="card__body">
                <div class="table-responsive">
                    <!-- id="data-table-basic,data-table-selection,data-table-command" -->
                    <table id="table-dream-list" class="table table-striped"
                           style="font-family: 'Microsoft YaHei', sans-serif">
                        <thead>
                        <tr>
                            <th data-column-id="state" data-formatter="state" data-type="numeric">状态
                            </th><!-- (√,×) -->
                            <!--<th data-column-id="id"  data-identifier="true">编号</th>--><!-- data-type="numeric"-->
                            <th data-column-id="content" data-formatter="content">Content</th>
                            <th data-column-id="content_cn" data-formatter="content_cn">内容</th>
                            <th data-column-id="date" data-formatter="date">日期</th>
                            <!-- data-order="desc,asc" -->
                        </tr>
                        </thead>
                        <tbody>

                        <!-- Done -->

                        <tr>
                            <td>1</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </section>

    <link rel="stylesheet" href="../resource/css/toolbox.reset.css"><!-- CSS reset -->
    <link rel="stylesheet" href="../resource/css/toolbox.style.css"><!-- Resource style -->
    <footer id="footer" class="font-yahei"></footer>
</section>

<!-- Older IE Warning -->
<!--[if lt IE 9]>
<div class="ie-warning"></div>
<![endif]-->

<!-- Javascript Libraries -->

<!-- jQuery -->
<script src="../vendors/bower_components/jquery/dist/jquery.min.js"></script>

<!-- Go Up -->
<script type="text/javascript" src="../resource/js/zms.goup.js"></script>

<!-- Bootstrap -->
<script src="../vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- Malihu ScrollBar -->
<script src="../vendors/bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>

<!-- Bootstrap Notify -->
<script src="../vendors/bower_components/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js"></script>

<!-- Bootgrid -->
<script src="../vendors/bower_components/jquery.bootgrid/dist/jquery.bootgrid.min.js"></script>

<!-- Placeholder for IE9 -->
<!--[if IE 9 ]>
<script src="../vendors/bower_components/jquery-placeholder/jquery.placeholder.min.js"></script>
<![endif]-->

<!-- Demo Only -->
<!--<script src="js/misc.js"></script>-->
<script src="../resource/js/data-table.js"></script>

<!-- Site Functions & Actions -->
<script src="../resource/js/app.min.js"></script>

<!-- busuanzi PV&UV -->
<script async src="../resource/js/busuanzi.pure.mini.js"></script>

<!-- Nest Follow Mouse Background -->
<script type="text/javascript" color="255,255,255" opacity='1.0' zIndex="-1" count="50"
        src="../resource/js/canvas-nest.min.js"></script>

<!-- Flot Charts -->
<script src="../resource/js/flot-charts/curved-line.js"></script>
<script src="../resource/js/sparkline-charts.js"></script>
<script src="../vendors/bower_components/flot/jquery.flot.js"></script>
<script src="../vendors/bower_components/flot/jquery.flot.pie.js"></script>
<script src="../vendors/bower_components/flot/jquery.flot.resize.js"></script>
<script src="../vendors/bower_components/flot.curvedlines/curvedLines.js"></script>
<!-- Sparkline Charts -->
<script src="../vendors/jquery.sparkline/jquery.sparkline.min.js"></script>

<script type="text/javascript">
    let numDone = 0, numTotal = 0;
    let num2002 = 0, num2009 = 0, num2010 = 0, num2011 = 0, num2012 = 0;
    let num2013 = 0, num2014 = 0, num2015 = 0, num2016 = 0, num2017 = 0;
    let num2018 = 0, num2019 = 0, num2020 = 0;
    calculateStep = function (table) { // 合计，表格对象，对哪一列进行合计，第一列从0开始
        let trs = table.getElementsByTagName('tr');
        let start = 1, // 开始计算的行号，忽略第一行的表头
            end = trs.length; // 结束计算的行号，忽略最后合计的一行
        numTotal = trs.length - 1;

        for (let i = start; i < end; i++) {
            let tdState = trs[i].getElementsByTagName('td')[0];
            let tdDate = trs[i].getElementsByTagName('td')[3];

            if (tdState.innerHTML.indexOf("1991") == 0 || tdState.innerHTML.indexOf("-1") == 0) {
                numTotal--;
            } else if (tdState.innerHTML.indexOf('1') == 0) { // Achieved Dreams
                numDone++; // Done

                if (tdDate.innerHTML.indexOf('2002') == 0) num2002++;
                else if (tdDate.innerHTML.indexOf('2009') == 0) num2009++;
                else if (tdDate.innerHTML.indexOf('2010') == 0) num2010++;
                else if (tdDate.innerHTML.indexOf('2011') == 0) num2011++;
                else if (tdDate.innerHTML.indexOf('2012') == 0) num2012++;
                else if (tdDate.innerHTML.indexOf('2013') == 0) num2013++;
                else if (tdDate.innerHTML.indexOf('2014') == 0) num2014++;
                else if (tdDate.innerHTML.indexOf('2015') == 0) num2015++;
                else if (tdDate.innerHTML.indexOf('2016') == 0) num2016++;
                else if (tdDate.innerHTML.indexOf('2017') == 0) num2017++;
                else if (tdDate.innerHTML.indexOf('2018') == 0) num2018++;
                else if (tdDate.innerHTML.indexOf('2019') == 0) num2019++;
                else if (tdDate.innerHTML.indexOf('2020') == 0) num2020++;
            }
        }
        // document.getElementById("doneTotal").innerHTML = numDone + '/' + numTotal;
        // document.getElementById("done2009").innerHTML = num2009;
        // document.getElementById("done2010").innerHTML = num2010;
        // document.getElementById("done2011").innerHTML = num2011;
        // document.getElementById("done2012").innerHTML = num2012;
        // document.getElementById("done2013").innerHTML = num2013;
        // document.getElementById("done2014").innerHTML = num2014;
        // document.getElementById("done2015").innerHTML = num2015;
        // document.getElementById("done2016").innerHTML = num2016;
        // document.getElementById("done2017").innerHTML = num2017;
    };
    calculateStep(document.getElementById('table-dream-list'));


    'use strict';
    $(document).ready(function () {
        let dataDone = [
            // [2002, num2002],
            [2009, num2009],
            [2010, num2010],
            [2011, num2011],
            [2012, num2012],
            [2013, num2013],
            [2014, num2014],
            [2015, num2015],
            [2016, num2016],
            [2017, num2017],
            [2018, num2018],
            [2019, num2019],
            [2020, num2020]
        ];

        let barData = [ // Create an Array push the data + Draw the bars
            {
                label: numDone + '/' + numTotal,
                data: dataDone,
                color: '#009688'//'#2196F3'
            }
        ]
        // 每年达成的数目
        if ($('#dream-year-line')[0]) {
            $.plot($("#dream-year-line"), barData, {
                series: {
                    shadowSize: 0
                },
                grid: {
                    borderWidth: 2, // 1
                    borderColor: '#31424b',
                    show: true,
                    hoverable: true
                },
                yaxis: {
                    max: 20,
                    tickColor: '#31424b',
                    tickDecimals: 0,
                    font: {
                        lineHeight: 13,
                        style: "normal",
                        color: "#98a7ac"
                    },
                    shadowSize: 0
                },
                xaxis: {
                    tickColor: '#31424b',
                    tickDecimals: 0,
                    font: {
                        lineHeight: 13,
                        style: "normal",
                        color: "#98a7ac"
                    },
                    shadowSize: 0
                },
                legend: {
                    // container: '.flot-chart-legend--line', // AZ:location
                    show: true,
                    noColumns: 5
                }
            });
        }
    });

    // AZ:Count Date.
    function timeElapse(dateBirth, dateDeath) {
        let current = Date();
        // Birth-->Now
        let secondPast = (Date.parse(current) - Date.parse(dateBirth)) / 1000;
        let dayPast = Math.floor(secondPast / (3600 * 24));
        let yearPast = (dayPast / 365).toFixed(2);
        secondPast = secondPast % (3600 * 24);
        let hourPast = Math.floor(secondPast / 3600);
        if (hourPast < 10) {
            hourPast = "0" + hourPast;
        }
        secondPast = secondPast % 3600;
        let minutePast = Math.floor(secondPast / 60);
        if (minutePast < 10) {
            minutePast = "0" + minutePast;
        }
        secondPast = secondPast % 60;
        if (secondPast < 10) {
            secondPast = "0" + secondPast;
        }

        let resultPast = "<span class='digit-blue'>" + dayPast + "</span> 天 <span class='digit-blue'>"
            + hourPast + "</span> 时 <span class='digit-blue'>" + minutePast
            + "</span> 分 <span class='digit-blue'>" + secondPast +
            "</span> 秒 (<span class='digit-blue'>" + yearPast + "</span> 年) <span class='digit-blue'>PAST</span></div><br>";

        // Now-->Death
        let secondLeft = (Date.parse(dateDeath) - Date.parse(current)) / 1000;
        let dayLeft = Math.floor(secondLeft / (3600 * 24));
        let yearLeft = (dayLeft / 365).toFixed(2);
        secondLeft = secondLeft % (3600 * 24);
        let hourLeft = Math.floor(secondLeft / 3600);
        if (hourLeft < 10) {
            hourLeft = "0" + hourLeft;
        }
        secondLeft = secondLeft % 3600;
        let minuteLeft = Math.floor(secondLeft / 60);
        if (minuteLeft < 10) {
            minuteLeft = "0" + minuteLeft;
        }
        secondLeft = secondLeft % 60;
        if (secondLeft < 10) {
            secondLeft = "0" + secondLeft;
        }
        let resultLeft = "<span class='digit-red'>" + dayLeft + "</span> 天 <span class='digit-red'>"
            + hourLeft + "</span> 时 <span class=\"digit-red\">" + minuteLeft
            + "</span> 分 <span class='digit-red'>" + secondLeft +
            "</span> 秒 (<span class='digit-red'>" + yearLeft + "</span> 年) <span class='digit-red'>LEFT</span></div>";

        $("#time_elapse").html(resultPast + resultLeft); // AZ:Add date range
    }

    function getNowFormatDate() {
        let date = new Date();
        let seperator1 = ".";
        let year = date.getFullYear();
        let month = date.getMonth() + 1;
        let strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        return year + seperator1 + month + seperator1 + strDate;
    }

    let dateBirth = new Date();
    dateBirth.setFullYear(1991, 9 - 1, 23); // 1991.09.23
    dateBirth.setHours(0);
    dateBirth.setMinutes(0);
    dateBirth.setSeconds(0);
    dateBirth.setMilliseconds(0);
    let dateDeath = new Date();
    dateDeath.setFullYear(2055, 12 - 1, 12); // 2055.12.12
    dateDeath.setHours(0);
    dateDeath.setMinutes(0);
    dateDeath.setSeconds(0);
    dateDeath.setMilliseconds(0);

    timeElapse(dateBirth, dateDeath);
    setInterval(function () {
        timeElapse(dateBirth, dateDeath);
    }, 500);

    // AZ: for lists of dream page.
    $("#table-dream-list").bootgrid({
        //Override default icon classes
        rowCount: -1, // AZ: -1 mains show all
        css: {
            icon: 'table-bootgrid__icon zmdi',
            iconSearch: 'zmdi-search',
            iconColumns: 'zmdi-view-column',
            iconDown: 'zmdi-sort-amount-desc',
            iconRefresh: 'zmdi-refresh',
            iconUp: 'zmdi-sort-amount-asc',
            dropDownMenu: 'dropdown form-group--select',
            search: 'table-bootgrid__search',
            actions: 'table-bootgrid__actions',
            header: 'table-bootgrid__header',
            footer: 'table-bootgrid__footer',
            dropDownItem: 'table-bootgrid__label',
            table: 'table table-bootgrid',
            pagination: 'pagination table-bootgrid__pagination'
        },

        //Override default module markups
        templates: {
            actionDropDown: "<span class=\"{{css.dropDownMenu}}\">" + "<a href='' data-toggle=\"dropdown\">{{ctx.content}}</a><ul class=\"{{css.dropDownMenuItems}}\" role=\"menu\"></ul></span>",
            search: "<div class=\"{{css.search}} form-group\"><span class=\"{{css.icon}} {{css.iconSearch}}\"></span><input type=\"text\" class=\"{{css.searchField}}\" placeholder=\"{{lbl.search}}\" /><i class='form-group__bar'></i></div>",
            header: "<div id=\"{{ctx.id}}\" class=\"{{css.header}}\"><p class=\"{{css.search}}\"></p><p class=\"{{css.actions}}\"></p></div>",
            actionDropDownCheckboxItem: "<li><div class='tabe-bootgrid__checkbox checkbox checkbox--dark'><label class=\"{{css.dropDownItem}}\"><input name=\"{{ctx.name}}\" type=\"checkbox\" value=\"1\" class=\"{{css.dropDownItemCheckbox}}\" {{ctx.checked}} /> {{ctx.label}}<i class='input-helper'></i></label></div></li>",
            footer: "<div id=\"{{ctx.id}}\" class=\"{{css.footer}}\"><div class=\"row\"><div class=\"col-sm-6\"><p class=\"{{css.pagination}}\"></p></div><div class=\"col-sm-6 table-bootgrid__showing hidden-xs\"><p class=\"{{css.infos}}\"></p></div></div></div>"
        },
        formatters: {
            "state": function (column, row) {
                switch (row.state) {
                    case -1: //D.R.O.P
                        return "<i class=\"zmdi zmdi-close-circle dream-drop\"></i>";
                    case 1: // D.O.N.E
                        return "<i class=\"zmdi zmdi-check-circle dream-done\"></i>";
                    case 1991: // T.I.M.E
                        return "<i class=\"zmdi zmdi-calendar dream-time\"></i>";
                    case 0: // T.O.D.O
                    default:
                        return "<i class=\"zmdi zmdi-circle-o dream-todo\"></i>";
                }
            },
            "content": function (column, row) {
                switch (row.state) {
                    case -1: // D.R.O.P
                        return "<span class=\"dream-drop line-through\">" + row.content + "</span>";
                    case 1: // D.O.N.E
                        return "<span class=\"dream-done\">" + row.content + "</span>";
                    case 1991: // T.I.M.E
                        return "<span class=\"dream-time\">" + row.content + "</span>";
                    case 0: // T.O.D.O
                    default:
                        return "<span class=\"dream-todo\">" + row.content + "</span>";
                }
            },
            "content_cn": function (column, row) {
                switch (row.state) {
                    case -1: // D.R.O.P
                        return "<span class=\"dream-drop line-through\">" + row.content_cn + "</span>";
                    case 1: // D.O.N.E
                        return "<span class=\"dream-done\">" + row.content_cn + "</span>";
                    case 1991: // T.I.M.E
                        return "<span class=\"dream-time\">" + row.content_cn + "</span>";
                    case 0: // T.O.D.O
                    default:
                        return "<span class=\"dream-todo\">" + row.content_cn + "</span>";
                }
            },
            "date": function (column, row) {
                switch (row.state) {
                    case -1: // D.R.O.P
                        return "<span class=\"dream-drop\">" + row.date + "</span>";
                    case 1: // D.O.N.E
                        return "<span class=\"dream-done\">" + row.date + "</span>";
                    case 1991: // T.I.M.E
                        return "<span class=\"dream-time\">" + row.date + "</span>";
                    case 0: // T.O.D.O
                    default:
                        return "<span class=\"dream-todo\">" + row.date + "</span>";
                }
            }
        }
    });
</script>
<script src="../resource/js/toolbox.main.js"></script><!-- Toolbox -->

<script>var directoryDepth = 1;</script>
<script src="../resource/js/zms.page.pattern.js"></script>
</body>
</html>